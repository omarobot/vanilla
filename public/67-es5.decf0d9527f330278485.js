!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var o=0;o<t.length;o++){var e=t[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{X3zk:function(o,e,i){"use strict";i.r(e),i.d(e,"LoginPageModule",function(){return k});var r=i("ofXK"),a=i("3Pt+"),c=i("TEn/"),g=i("tyNb"),s=i("mrSG"),l=i("fXoL"),u=i("TTF2"),p=i("A0kb");function d(n,t){if(1&n&&(l.Qb(0,"div",21),l.Mb(1,"ion-icon",22),l.Qb(2,"span"),l.rc(3),l.Pb(),l.Pb()),2&n){var o=l.ac().$implicit;l.Bb(3),l.sc(o.message)}}function m(n,t){if(1&n&&(l.Ob(0),l.pc(1,d,4,1,"div",20),l.Nb()),2&n){var o=t.$implicit,e=l.ac();l.Bb(1),l.fc("ngIf",e.loginForm.get("email").hasError(o.type)&&(e.loginForm.get("email").dirty||e.loginForm.get("email").touched))}}function b(n,t){if(1&n&&(l.Qb(0,"div",21),l.Mb(1,"ion-icon",22),l.Qb(2,"span"),l.rc(3),l.Pb(),l.Pb()),2&n){var o=l.ac().$implicit;l.Bb(3),l.sc(o.message)}}function f(n,t){if(1&n&&(l.Ob(0),l.pc(1,b,4,1,"div",20),l.Nb()),2&n){var o=t.$implicit,e=l.ac();l.Bb(1),l.fc("ngIf",e.loginForm.get("password").hasError(o.type)&&(e.loginForm.get("password").dirty||e.loginForm.get("password").touched))}}function h(n,t){if(1&n&&(l.Qb(0,"div",9),l.Qb(1,"div",21),l.Mb(2,"ion-icon",22),l.Qb(3,"span"),l.rc(4),l.Pb(),l.Pb(),l.Pb()),2&n){var o=l.ac();l.Bb(4),l.sc(o.submitError)}}var P,v,O,C=function(){return["/auth/forgot-password"]},M=function(){return["/register"]},_=[{path:"",component:(P=function(){function o(t,e,i,r,c){var g=this;n(this,o),this.router=t,this.menu=e,this.authService=i,this.loadingController=r,this.ngZone=c,this.validation_messages={email:[{type:"required",message:"Email is required."},{type:"pattern",message:"Enter a valid email."}],password:[{type:"required",message:"Password is required."},{type:"minlength",message:"Password must be at least 5 characters long."}]},this.loginForm=new a.c({email:new a.a("",a.l.compose([a.l.required,a.l.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),password:new a.a("",a.l.compose([a.l.minLength(5),a.l.required]))}),this.authRedirectResult=this.authService.getRedirectResult().subscribe(function(n){n.user?g.redirectToHome():g.manageAuthWithProvidersErrors(n)})}var e,i,r;return e=o,(i=[{key:"ngOnInit",value:function(){}},{key:"ionViewDidEnter",value:function(){this.menu.enable(!1)}},{key:"ionViewDidLeave",value:function(){this.menu.enable(!0)}},{key:"login",value:function(){var n=this;this.resetSubmitError(),this.authService.signIn(this.loginForm.value.email,this.loginForm.value.password).then(function(t){if(!n.authService.isEmailVerified)return n.submitError="Email is not verified",!1;n.router.navigate(["home"])}).catch(function(t){n.submitError=t})}},{key:"redirectToHome",value:function(){var n=this;this.dismissLoading(),this.ngZone.run(function(){n.router.navigate(["home"])})}},{key:"goToForgotPassword",value:function(){console.log("redirect to forgot-password page")}},{key:"googleLogin",value:function(){var n=this;this.resetSubmitError(),this.authService.googleAuth().then(function(n){}).catch(function(t){n.submitError=t})}},{key:"presentLoading",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loadingController.create({cssClass:"my-custom-class",message:"Signing in.."});case 2:return t=n.sent,n.next=5,t.present();case 5:case"end":return n.stop()}},n,this)}))}},{key:"manageAuthWithProvidersErrors",value:function(n){this.submitError=n,this.dismissLoading()}},{key:"dismissLoading",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loadingController.dismiss();case 2:case"end":return n.stop()}},n,this)}))}},{key:"resetSubmitError",value:function(){this.submitError=null}}])&&t(e.prototype,i),r&&t(e,r),o}(),P.\u0275fac=function(n){return new(n||P)(l.Lb(g.g),l.Lb(c.W),l.Lb(u.a),l.Lb(c.V),l.Lb(l.B))},P.\u0275cmp=l.Fb({type:P,selectors:[["app-login"]],decls:28,vars:9,consts:[[1,"login-content"],[1,"fullheight","xc"],[2,"padding-top","25%"],[1,"logo-content"],["src","../../assets/paapi_aqua.png",1,"logo"],[3,"formGroup","ngSubmit"],["lines","full",1,"inputs-list"],[1,"input-item"],["type","email","placeholder","Email","formControlName","email","clearInput","","autocapitalize","off","inputmode","email"],[1,"error-container"],[4,"ngFor","ngForOf"],["type","password","placeholder","Password","formControlName","password"],["type","submit","expand","block",1,"login-btn",3,"disabled"],["class","error-container",4,"ngIf"],[1,"other-auth-options-row"],["fill","clear",1,"forgot-btn",3,"routerLink"],["fill","clear",1,"signup-btn",3,"routerLink"],[1,"social-auth-options"],[1,"options-divider"],["name","logo-google",3,"click"],["class","error-message",4,"ngIf"],[1,"error-message"],["name","information-circle-outline"]],template:function(n,t){1&n&&(l.Qb(0,"ion-content",0),l.Qb(1,"div",1),l.Qb(2,"div",2),l.Qb(3,"div",3),l.Mb(4,"img",4),l.Pb(),l.Qb(5,"form",5),l.Yb("ngSubmit",function(){return t.login()}),l.Qb(6,"ion-list",6),l.Qb(7,"ion-item",7),l.Mb(8,"ion-input",8),l.Pb(),l.Qb(9,"div",9),l.pc(10,m,2,1,"ng-container",10),l.Pb(),l.Qb(11,"ion-item",7),l.Qb(12,"app-show-hide-password"),l.Mb(13,"ion-input",11),l.Pb(),l.Pb(),l.Qb(14,"div",9),l.pc(15,f,2,1,"ng-container",10),l.Pb(),l.Pb(),l.Qb(16,"ion-button",12),l.rc(17,"Log In"),l.Pb(),l.pc(18,h,5,1,"div",13),l.Qb(19,"ion-row",14),l.Qb(20,"ion-button",15),l.rc(21," Forgot Password? "),l.Pb(),l.Qb(22,"ion-button",16),l.rc(23," Sign Up! "),l.Pb(),l.Pb(),l.Pb(),l.Qb(24,"div",17),l.Qb(25,"p",18),l.rc(26,"-or sign in with-"),l.Pb(),l.Qb(27,"ion-icon",19),l.Yb("click",function(){return t.presentLoading(),t.googleLogin()}),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&n&&(l.Bb(5),l.fc("formGroup",t.loginForm),l.Bb(5),l.fc("ngForOf",t.validation_messages.email),l.Bb(5),l.fc("ngForOf",t.validation_messages.password),l.Bb(1),l.fc("disabled",!t.loginForm.valid),l.Bb(2),l.fc("ngIf",t.submitError),l.Bb(2),l.fc("routerLink",l.hc(7,C)),l.Bb(2),l.fc("routerLink",l.hc(8,M)))},directives:[c.n,a.m,a.j,a.d,c.x,c.v,c.u,c.bb,a.i,a.b,r.i,p.a,c.h,r.j,c.E,c.Z,g.h,c.r],styles:["[_nghost-%COMP%]{--page-margin:var(--app-broad-margin);--page-background:var(--app-background-shade);--login-background:var(--app-background)}ion-content[_ngcontent-%COMP%]{--overflow:hidden;overflow:auto}ion-content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.login-content[_ngcontent-%COMP%]{--background:var(--page-background);--padding-start:var(--page-margin);--padding-end:var(--page-margin);--padding-top:var(--page-margin);--padding-bottom:var(--page-margin)}.login-content[_ngcontent-%COMP%]   .auth-title[_ngcontent-%COMP%]{color:var(--ion-color-dark);font-weight:700;margin-top:calc(var(--page-margin) / 2);margin-bottom:calc(var(--page-margin) * (3/2));letter-spacing:.6px}.login-content[_ngcontent-%COMP%]   .logo-content[_ngcontent-%COMP%]{text-align:center;margin:25px}.login-content[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{max-width:75%;max-height:50%}.login-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%]{--ion-item-background:var(--login-background)}.login-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]{--padding-start:0px;--padding-end:0px;--inner-padding-end:0px}.login-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin:calc(var(--page-margin) / 2) 0;display:flex;align-items:center;color:var(--ion-color-danger);font-size:14px}.login-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{-webkit-padding-end:calc(var(--page-margin) / 2);padding-inline-end:calc(var(--page-margin) / 2)}.login-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin:calc(var(--page-margin) / 2) 0;display:flex;align-items:center;color:var(--ion-color-danger);font-size:14px}.login-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{-webkit-padding-end:calc(var(--page-margin) / 2);padding-inline-end:calc(var(--page-margin) / 2)}.login-content[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]{margin:calc(var(--page-margin) / 2) 0}.login-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.login-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]   .forgot-btn[_ngcontent-%COMP%]{color:#fff;margin:0}.login-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]   .forgot-btn[_ngcontent-%COMP%]:focus{outline:none}.login-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]{--color:var(--ion-color-secondary);margin:0}.login-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]:focus{outline:none}.login-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]{padding-top:10px;text-align:center}.login-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:50px;color:var(--ion-color-light)}.login-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .options-divider[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin:var(--page-margin) 0;text-align:center}.login-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .social-auth-btn[_ngcontent-%COMP%]{margin:0}.login-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .social-auth-btn[_ngcontent-%COMP%]:not(:first-child){margin-top:var(--page-margin)}.fullheight[_ngcontent-%COMP%]{height:100%}.xc[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:center}"]}),P)}],w=((v=function t(){n(this,t)}).\u0275mod=l.Jb({type:v}),v.\u0275inj=l.Ib({factory:function(n){return new(n||v)},imports:[[g.j.forChild(_)],g.j]}),v),y=i("j1ZV"),k=((O=function t(){n(this,t)}).\u0275mod=l.Jb({type:O}),O.\u0275inj=l.Ib({factory:function(n){return new(n||O)},imports:[[r.c,a.f,a.k,c.T,w,y.a]]}),O)}}])}();