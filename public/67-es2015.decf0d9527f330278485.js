(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{X3zk:function(n,t,o){"use strict";o.r(t),o.d(t,"LoginPageModule",function(){return C});var e=o("ofXK"),i=o("3Pt+"),r=o("TEn/"),a=o("tyNb"),c=o("mrSG"),g=o("fXoL"),s=o("TTF2"),l=o("A0kb");function p(n,t){if(1&n&&(g.Qb(0,"div",21),g.Mb(1,"ion-icon",22),g.Qb(2,"span"),g.rc(3),g.Pb(),g.Pb()),2&n){const n=g.ac().$implicit;g.Bb(3),g.sc(n.message)}}function d(n,t){if(1&n&&(g.Ob(0),g.pc(1,p,4,1,"div",20),g.Nb()),2&n){const n=t.$implicit,o=g.ac();g.Bb(1),g.fc("ngIf",o.loginForm.get("email").hasError(n.type)&&(o.loginForm.get("email").dirty||o.loginForm.get("email").touched))}}function b(n,t){if(1&n&&(g.Qb(0,"div",21),g.Mb(1,"ion-icon",22),g.Qb(2,"span"),g.rc(3),g.Pb(),g.Pb()),2&n){const n=g.ac().$implicit;g.Bb(3),g.sc(n.message)}}function m(n,t){if(1&n&&(g.Ob(0),g.pc(1,b,4,1,"div",20),g.Nb()),2&n){const n=t.$implicit,o=g.ac();g.Bb(1),g.fc("ngIf",o.loginForm.get("password").hasError(n.type)&&(o.loginForm.get("password").dirty||o.loginForm.get("password").touched))}}function u(n,t){if(1&n&&(g.Qb(0,"div",9),g.Qb(1,"div",21),g.Mb(2,"ion-icon",22),g.Qb(3,"span"),g.rc(4),g.Pb(),g.Pb(),g.Pb()),2&n){const n=g.ac();g.Bb(4),g.sc(n.submitError)}}const h=function(){return["/auth/forgot-password"]},P=function(){return["/register"]},f=[{path:"",component:(()=>{class n{constructor(n,t,o,e,r){this.router=n,this.menu=t,this.authService=o,this.loadingController=e,this.ngZone=r,this.validation_messages={email:[{type:"required",message:"Email is required."},{type:"pattern",message:"Enter a valid email."}],password:[{type:"required",message:"Password is required."},{type:"minlength",message:"Password must be at least 5 characters long."}]},this.loginForm=new i.c({email:new i.a("",i.l.compose([i.l.required,i.l.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),password:new i.a("",i.l.compose([i.l.minLength(5),i.l.required]))}),this.authRedirectResult=this.authService.getRedirectResult().subscribe(n=>{n.user?this.redirectToHome():this.manageAuthWithProvidersErrors(n)})}ngOnInit(){}ionViewDidEnter(){this.menu.enable(!1)}ionViewDidLeave(){this.menu.enable(!0)}login(){this.resetSubmitError(),this.authService.signIn(this.loginForm.value.email,this.loginForm.value.password).then(n=>{if(!this.authService.isEmailVerified)return this.submitError="Email is not verified",!1;this.router.navigate(["home"])}).catch(n=>{this.submitError=n})}redirectToHome(){this.dismissLoading(),this.ngZone.run(()=>{this.router.navigate(["home"])})}goToForgotPassword(){console.log("redirect to forgot-password page")}googleLogin(){this.resetSubmitError(),this.authService.googleAuth().then(n=>{}).catch(n=>{this.submitError=n})}presentLoading(){return Object(c.a)(this,void 0,void 0,function*(){const n=yield this.loadingController.create({cssClass:"my-custom-class",message:"Signing in.."});yield n.present()})}manageAuthWithProvidersErrors(n){this.submitError=n,this.dismissLoading()}dismissLoading(){return Object(c.a)(this,void 0,void 0,function*(){yield this.loadingController.dismiss()})}resetSubmitError(){this.submitError=null}}return n.\u0275fac=function(t){return new(t||n)(g.Lb(a.g),g.Lb(r.W),g.Lb(s.a),g.Lb(r.V),g.Lb(g.B))},n.\u0275cmp=g.Fb({type:n,selectors:[["app-login"]],decls:28,vars:9,consts:[[1,"login-content"],[1,"fullheight","xc"],[2,"padding-top","25%"],[1,"logo-content"],["src","../../assets/paapi_aqua.png",1,"logo"],[3,"formGroup","ngSubmit"],["lines","full",1,"inputs-list"],[1,"input-item"],["type","email","placeholder","Email","formControlName","email","clearInput","","autocapitalize","off","inputmode","email"],[1,"error-container"],[4,"ngFor","ngForOf"],["type","password","placeholder","Password","formControlName","password"],["type","submit","expand","block",1,"login-btn",3,"disabled"],["class","error-container",4,"ngIf"],[1,"other-auth-options-row"],["fill","clear",1,"forgot-btn",3,"routerLink"],["fill","clear",1,"signup-btn",3,"routerLink"],[1,"social-auth-options"],[1,"options-divider"],["name","logo-google",3,"click"],["class","error-message",4,"ngIf"],[1,"error-message"],["name","information-circle-outline"]],template:function(n,t){1&n&&(g.Qb(0,"ion-content",0),g.Qb(1,"div",1),g.Qb(2,"div",2),g.Qb(3,"div",3),g.Mb(4,"img",4),g.Pb(),g.Qb(5,"form",5),g.Yb("ngSubmit",function(){return t.login()}),g.Qb(6,"ion-list",6),g.Qb(7,"ion-item",7),g.Mb(8,"ion-input",8),g.Pb(),g.Qb(9,"div",9),g.pc(10,d,2,1,"ng-container",10),g.Pb(),g.Qb(11,"ion-item",7),g.Qb(12,"app-show-hide-password"),g.Mb(13,"ion-input",11),g.Pb(),g.Pb(),g.Qb(14,"div",9),g.pc(15,m,2,1,"ng-container",10),g.Pb(),g.Pb(),g.Qb(16,"ion-button",12),g.rc(17,"Log In"),g.Pb(),g.pc(18,u,5,1,"div",13),g.Qb(19,"ion-row",14),g.Qb(20,"ion-button",15),g.rc(21," Forgot Password? "),g.Pb(),g.Qb(22,"ion-button",16),g.rc(23," Sign Up! "),g.Pb(),g.Pb(),g.Pb(),g.Qb(24,"div",17),g.Qb(25,"p",18),g.rc(26,"-or sign in with-"),g.Pb(),g.Qb(27,"ion-icon",19),g.Yb("click",function(){return t.presentLoading(),t.googleLogin()}),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb()),2&n&&(g.Bb(5),g.fc("formGroup",t.loginForm),g.Bb(5),g.fc("ngForOf",t.validation_messages.email),g.Bb(5),g.fc("ngForOf",t.validation_messages.password),g.Bb(1),g.fc("disabled",!t.loginForm.valid),g.Bb(2),g.fc("ngIf",t.submitError),g.Bb(2),g.fc("routerLink",g.hc(7,h)),g.Bb(2),g.fc("routerLink",g.hc(8,P)))},directives:[r.n,i.m,i.j,i.d,r.x,r.v,r.u,r.bb,i.i,i.b,e.i,l.a,r.h,e.j,r.E,r.Z,a.h,r.r],styles:["[_nghost-%COMP%]{--page-margin:var(--app-broad-margin);--page-background:var(--app-background-shade);--login-background:var(--app-background)}ion-content[_ngcontent-%COMP%]{--overflow:hidden;overflow:auto}ion-content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.login-content[_ngcontent-%COMP%]{--background:var(--page-background);--padding-start:var(--page-margin);--padding-end:var(--page-margin);--padding-top:var(--page-margin);--padding-bottom:var(--page-margin)}.login-content[_ngcontent-%COMP%]   .auth-title[_ngcontent-%COMP%]{color:var(--ion-color-dark);font-weight:700;margin-top:calc(var(--page-margin) / 2);margin-bottom:calc(var(--page-margin) * (3/2));letter-spacing:.6px}.login-content[_ngcontent-%COMP%]   .logo-content[_ngcontent-%COMP%]{text-align:center;margin:25px}.login-content[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{max-width:75%;max-height:50%}.login-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%]{--ion-item-background:var(--login-background)}.login-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]{--padding-start:0px;--padding-end:0px;--inner-padding-end:0px}.login-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin:calc(var(--page-margin) / 2) 0;display:flex;align-items:center;color:var(--ion-color-danger);font-size:14px}.login-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{-webkit-padding-end:calc(var(--page-margin) / 2);padding-inline-end:calc(var(--page-margin) / 2)}.login-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin:calc(var(--page-margin) / 2) 0;display:flex;align-items:center;color:var(--ion-color-danger);font-size:14px}.login-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{-webkit-padding-end:calc(var(--page-margin) / 2);padding-inline-end:calc(var(--page-margin) / 2)}.login-content[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]{margin:calc(var(--page-margin) / 2) 0}.login-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.login-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]   .forgot-btn[_ngcontent-%COMP%]{color:#fff;margin:0}.login-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]   .forgot-btn[_ngcontent-%COMP%]:focus{outline:none}.login-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]{--color:var(--ion-color-secondary);margin:0}.login-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]:focus{outline:none}.login-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]{padding-top:10px;text-align:center}.login-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:50px;color:var(--ion-color-light)}.login-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .options-divider[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin:var(--page-margin) 0;text-align:center}.login-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .social-auth-btn[_ngcontent-%COMP%]{margin:0}.login-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .social-auth-btn[_ngcontent-%COMP%]:not(:first-child){margin-top:var(--page-margin)}.fullheight[_ngcontent-%COMP%]{height:100%}.xc[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:center}"]}),n})()}];let O=(()=>{class n{}return n.\u0275mod=g.Jb({type:n}),n.\u0275inj=g.Ib({factory:function(t){return new(t||n)},imports:[[a.j.forChild(f)],a.j]}),n})();var v=o("j1ZV");let C=(()=>{class n{}return n.\u0275mod=g.Jb({type:n}),n.\u0275inj=g.Ib({factory:function(t){return new(t||n)},imports:[[e.c,i.f,i.k,r.T,O,v.a]]}),n})()}}]);